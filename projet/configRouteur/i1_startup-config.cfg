vrf definition CLIENT_A
 rd 64513:1
 route-target export 64513:1
 route-target import 64513:1
 !
 address-family ipv4
 exit-address-family
!
vrf definition CLIENT_B
 rd 64513:2
 route-target export 64513:2
 route-target import 64513:2
 !
 address-family ipv4
 exit-address-family
!
interface Loopback0
 ip address 1.1.1.1 255.255.255.255
 ip ospf 1 area 0
!
interface GigabitEthernet1/0
 ip address 192.168.1.1 255.255.255.252
 ip ospf 1 area 0
 mpls ip
 mpls label protocol ldp
!
interface GigabitEthernet2/0
 vrf forwarding CLIENT_A
 ip address 193.168.1.1 255.255.255.252
 ip ospf 1 area 0
!
interface GigabitEthernet3/0
 vrf forwarding CLIENT_B
 ip address 193.168.1.1 255.255.255.252
 ip ospf 1 area 0
!
!
router bgp 64513
 bgp router-id 1.1.1.1
 bgp log-neighbor-changes
 neighbor 2.2.2.2 remote-as 64513
 neighbor 2.2.2.2 update-source Loopback0
 neighbor 3.3.3.3 remote-as 64513
 neighbor 3.3.3.3 update-source Loopback0
 neighbor 4.4.4.4 remote-as 64513
 neighbor 4.4.4.4 update-source Loopback0
 neighbor 193.168.1.2 remote-as 64514
 neighbor 193.168.1.2 remote-as 64515
 address-family ipv4
  network 192.168.0.0 mask 255.255.255.252
  network 193.168.1.0 mask 255.255.255.252
  network 193.168.1.0 mask 255.255.255.252
  neighbor 2.2.2.2 activate
  neighbor 3.3.3.3 activate
  neighbor 4.4.4.4 activate
  neighbor 193.168.1.2 activate
  neighbor 193.168.1.2 activate
 exit-address-family
 !
 address-family vpnv4
  neighbor 4.4.4.4 activate
  neighbor 4.4.4.4 send-community both
 exit-address-family
!
 address-family ipv4 vrf CLIENT_A
 neighbor 193.168.1.2 remote-as 64514
 neighbor 193.168.1.2 activate
exit-address-family
!
 address-family ipv4 vrf CLIENT_B
 neighbor 193.168.1.2 remote-as 64515
 neighbor 193.168.1.2 activate
exit-address-family
!
router ospf 1
 router-id 1.1.1.1
 passive-interface GigabitEthernet2/0
 passive-interface GigabitEthernet3/0
